# ===============================[ DEPENDENCIES ]============================= #

-include ./build/color.mf

# ==================================[ SETUP ]================================= #

VALGRIND   = valgrind --trace-children=yes --leak-check=full --show-leak-kinds=all

DIR_BUILD  = ./build
DIR_OBJS   = $(DIR_BUILD)/objs
DIR_DEPS   = $(DIR_BUILD)/deps
DIR_SRCS   = ./src
DIR_TEST   = ./test
DIR_INCL   = ./include ./vendor/ ./vendor/minilibx-linux
DIR_BIN    = ./bin

OPT        = -O2
DEBUG      = -g
LIBS_DEV   = -lX11 -lXext -Lvendor/minilibx-linux -lmlx -lm
LIBS_PROD  = -lX11 -lXext -Lvendor/minilibx-linux -lmlx -lm

DEV_HOOK_PRE   =
DEV_HOOK_POST  =
PROD_HOOK_PRE  = \
	echo "$(BLUE_BG)$(WHITE)$(BOLD)[ Building ]$(RESET)$(WHITE)$(ITALIC) MLX"; \
	if [ ! -f "vendor/minilibx-linux/libmlx.a" ]; then \
		make --silent -C vendor/minilibx-linux all; \
	fi
PROD_HOOK_POST =

C_COMPILER = clang
I_FLAGS    = $(foreach dir,$(DIR_INCL),-I$(dir) )
SILENCED   = -Wno-missing-variable-declarations
C_FLAGS    = -Wall -Wextra $(I_FLAGS)
C_DEPS     = -MM -MP $(I_FLAGS)

PROJECT    = cub3D
